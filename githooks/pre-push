#!/bin/sh
set -eu

REPO_ROOT="$(git rev-parse --show-toplevel)"
cd "$REPO_ROOT"

run() {
    local task="$1"
    echo "==> Running ./gradlew $task"
    ./gradlew "$task"
}

run ktlintCheck
run check
run :composeApp:cleanTestDebugUnitTest
run :composeApp:testDebugUnitTest
run :composeApp:assembleRelease
run :composeApp:kspKotlinIosSimulatorArm64
run :composeApp:jvmJar
